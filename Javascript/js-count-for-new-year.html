<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    function getLeftTime() {
      let year = new Date().getFullYear() + 1;
      let targetDateTime = new Date(year + "-01-01 00:00:00").getTime();
      let nowDateTime = Date.now();
      let timeBetween = Math.abs(nowDateTime - targetDateTime);
      let day = Math.floor(timeBetween / (24 * 3600 * 1000));
      let left = timeBetween % (24 * 3600 * 1000);
      let hour = Math.floor(left / (3600 * 1000));
      left = left % (3600 * 1000);
      let minute = Math.floor(left / (60 * 1000));
      left = left % (60 * 1000);
      let second = Math.floor(left / 1000);
      return { day, hour, minute, second };
    }

    function formatDate(dateStr) {
      let between = parseInt((Date.now() - new Date(dateStr).getTime()) / 1000);
      switch (true) {
        case between < 60:
          return "刚刚";
        case between < 3600:
          return parseInt(between / 60) + "分钟前";
        case between < 3600 * 24:
          return parseInt(between / 3600) + "小时前";
        default:
          return parseInt(between / (3600 * 24)) + "天前";
      }
    }

    function randomStr(n) {
      const str =
        "qazxswedcvfrtgbnhyujmkiolp123456789QAZXSWEDCVFRTGBNHYUJMKIOLP_";
      let res = "";
      for (let i = 0; i < n; i++) {
        let randomNum = Math.floor(str.length * Math.random());
        res += str[randomNum];
      }
      return res;
    }

    function randomNum(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function deepCopy(src) {
      let res = Array.isArray(src) ? [] : {};
      for (let key in src) {
        if (typeof src[key] === "object" && src[key] !== null) {
          res[key] = deepCopy(src[key]);
        } else {
          res[key] = src[key];
        }
      }
      return res;
    }

    console.log(deepCopy({ a: 1, b: { v: 2 } }));
  </script>
</html>
