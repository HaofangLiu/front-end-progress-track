<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue.js | Lucas文档库</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="compass.svg">
    <meta name="description" content="Lucas document collection">
    
    <link rel="preload" href="/front-end-progress-track/assets/css/0.styles.1c631b42.css" as="style"><link rel="preload" href="/front-end-progress-track/assets/js/app.55fbb09c.js" as="script"><link rel="preload" href="/front-end-progress-track/assets/js/2.3c044b6f.js" as="script"><link rel="preload" href="/front-end-progress-track/assets/js/1.946bbbaf.js" as="script"><link rel="preload" href="/front-end-progress-track/assets/js/37.065e5dc3.js" as="script"><link rel="prefetch" href="/front-end-progress-track/assets/js/10.100ad0ba.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/11.11c89185.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/12.452422eb.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/13.cdbffaeb.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/14.29cb1f24.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/15.25a9f6f1.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/16.1008613e.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/17.e87875c8.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/18.21caedd4.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/19.261180c5.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/20.35b1a1eb.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/21.e78369f6.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/22.67b70316.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/23.f866a84e.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/24.6ffc8fb8.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/25.2594d9bd.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/26.3cdec195.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/27.98585499.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/28.7910915e.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/29.a483cbdd.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/3.945872b5.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/30.c84d22d4.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/31.982a1c57.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/32.3c98e77b.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/33.17ee5942.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/34.1e87628b.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/35.6e127866.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/36.5af02e95.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/4.e5e6a7bb.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/5.d63af971.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/6.489cfffe.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/7.0c7d04fe.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/vendors~docsearch.c632dcce.js">
    <link rel="stylesheet" href="/front-end-progress-track/assets/css/0.styles.1c631b42.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/front-end-progress-track/" class="home-link router-link-active"><img src="/front-end-progress-track/compass.svg" alt="Lucas文档库" class="logo"> <span class="site-name can-hide">Lucas文档库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/front-end-progress-track/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/front-end-progress-track/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/js/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/vue/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/http/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/nodejs/" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/ts/" class="nav-link">
  Typescript
</a></li></ul></div></div><div class="nav-item"><a href="/front-end-progress-track/document/vue/.html" class="nav-link">
  Github
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/front-end-progress-track/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/front-end-progress-track/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/js/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/vue/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/http/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/nodejs/" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/ts/" class="nav-link">
  Typescript
</a></li></ul></div></div><div class="nav-item"><a href="/front-end-progress-track/document/vue/.html" class="nav-link">
  Github
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue.js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-end-progress-track/document/vue/#vue" class="sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#基础语法" class="sidebar-link">基础语法</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#组件实例与生命周期" class="sidebar-link">组件实例与生命周期</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#模板语法" class="sidebar-link">模板语法</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#data-property-和-methods" class="sidebar-link">Data Property 和 methods</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#计算属性-computed" class="sidebar-link">计算属性 computed</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#watch" class="sidebar-link">Watch</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#响应式原理" class="sidebar-link">响应式原理</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#proxy-和-reflect" class="sidebar-link">Proxy 和 Reflect</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#条件渲染" class="sidebar-link">条件渲染</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#v-for-列表渲染" class="sidebar-link">v-for 列表渲染</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#事件处理" class="sidebar-link">事件处理</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#v-model-双向绑定-针对输入框-表单等" class="sidebar-link">v-model 双向绑定（针对输入框，表单等）</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#组件基础" class="sidebar-link">组件基础</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#v-model-实现双向绑定" class="sidebar-link">v-model 实现双向绑定</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#单向数据流" class="sidebar-link">单向数据流</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#全局组件和局部组件" class="sidebar-link">全局组件和局部组件</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#组件命名" class="sidebar-link">组件命名</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#props" class="sidebar-link">Props</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#非-prop-的-attribute" class="sidebar-link">非 prop 的 attribute</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#自定义事件" class="sidebar-link">自定义事件</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#插槽" class="sidebar-link">插槽</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#具名插槽" class="sidebar-link">具名插槽</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#作用域插槽" class="sidebar-link">作用域插槽</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#动态组件与-keep-alive" class="sidebar-link">动态组件与 keep-alive</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#provide-inject" class="sidebar-link">Provide Inject</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#provide-inject-响应式-使用-computed-箭头函数" class="sidebar-link">Provide Inject 响应式(使用 computed 箭头函数)</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/vue/#vue-动画" class="sidebar-link">Vue 动画</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-js"><a href="#vue-js" class="header-anchor">#</a> Vue.js</h1> <p>记录学习 Vue.js 过程</p> <h2 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h2> <blockquote><p>Vue 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</p></blockquote> <ul><li>数据驱动视图 （数据发生变化，视图自动更新）</li></ul> <h3 id="基础语法"><a href="#基础语法" class="header-anchor">#</a> 基础语法</h3> <p>数据修改：
<code>v-on:click=&quot;add&quot; 或者 @click=&quot;add&quot;</code></p> <p>属性绑定：
<code>v-bind:href=&quot;url&quot; 或者 :title=&quot;title&quot;</code></p> <p>双向绑定（视图修改数据，数据渲染视图）：
<code>v-model=&quot;search&quot;</code> eg: input 表单中的 value 会修改 data 中的 search，search 会渲染在页面上展示出来</p> <p>条件渲染：
<code>v-if=&quot;isShow&quot;</code> method 中有一个 isShow 方法
<code>v-show=&quot;isShow&quot;</code> 子组件不会卸载，仅仅显示隐藏</p> <p>列表渲染：
<code>v-for=&quot;value in items&quot;.</code></p> <p>自定义组件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
 &lt;fieldset&gt;
    &lt;legend&gt;⾃定义组件&lt;/legend&gt;
    &lt;ul&gt;
        &lt;todo-item v-for=&quot;todo in items&quot; :todo=&quot;todo&quot; :key=&quot;todo.id&quot;&gt;&lt;/todo-item&gt;
    &lt;/ul&gt;
 &lt;/fieldset&gt;
 &lt;/div&gt;
 &lt;script&gt;
 const App = {
    data() {
        return {
            items: [
                { id: 0, text: 'item0' },
                { id: 1, text: 'item1' },
                { id: 2, text: 'item2' },
            ]
        }
    }
 }
 const app = Vue.createApp(App)
 app.component('todo-item', {
    props: ['todo'],
    template: '&lt;div&gt;{{todo.text}}&lt;/div&gt;'
 })
 app.mount('#app')
 &lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="组件实例与生命周期"><a href="#组件实例与生命周期" class="header-anchor">#</a> 组件实例与生命周期</h3> <p>Vue.createApp(App)会创建一个 app 应用实例， app.mount(#app) 会生成并挂载根组件实例。 （对于其他子组件同理,都会有自己对应的组件实例）</p> <p><strong>beforeCreate</strong>
在实例初始化以后，数据观测和 event/watcher 事件配置之前被调用</p> <p><strong>created</strong>
实例创建完成后被立即调用。 在这一步，实例已经完成以下的配置： 数据观测（data observer） property 和方法的运算， watch/event 事件回调。 然而挂载阶段还没开始， <code>$el</code>property 还不可用</p> <p><strong>beforeMount</strong>
在挂载开始之前被调用： 相关的 render 函数首次被调用</p> <p><strong>mounted</strong>
实例被挂载后调用。 这时<code>Vue.createApp({}).mount()</code>被新创建的<code>vm.$el</code>替换了。 如果根实例挂载到了一个文档内的元素上，当 mounted 被调用时<code>vm.$el</code>也在文档内</p> <p><strong>beforeUpdate</strong>
数据更新时调用，发生在虚拟 DOM 打补丁之前</p> <p><strong>updated</strong>
由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这以后会调用这个钩子</p> <p><strong>beforeUnmount</strong>
在卸载组件实例之前调用。这个阶段实例是完全正常的</p> <p><strong>unmounted</strong>
卸载组件实例后调用，调用这个钩子时，组件实例的所有指令都被解除绑定，所有事件侦听器都被移除，所有子组件实例被卸载</p> <p><img src="https://cn.vuejs.org/images/lifecycle.png" alt="Vue-lifeCycle"></p> <ul><li><p>如果需要发送 ajax 请求，应该放在哪个生命周期？
在 created 以后的声明周期都可以，因为已经有数据存在</p></li> <li><p>父子组件嵌套时， 父组件视图和子组件视图渲染完成谁先谁后？
不确定，从生命周期来看无法判断谁先谁后，子组件渲染完成，父组件不渲染也看不到</p></li> <li><p>父子组件嵌套时，如果希望在所有组件视图都渲染完成后再执行操作，该怎么做？</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>mounted(){
    this.$nextTick(function(){
        // 仅在渲染整个视图之后运行的代码
        // 当修改数据后， 如果想尽早得到渲染后的DOM
    })
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="模板语法"><a href="#模板语法" class="header-anchor">#</a> 模板语法</h3> <ol><li><p>文本
<code>&lt;span&gt;Message: &lt;/span&gt;</code>
same as
<code>&lt;span v-text=&quot;msg&quot;&gt;&lt;/span&gt;</code> <code>&lt;span v-once&gt;这个将不会改变: &lt;/span&gt;</code>
仅仅渲染元素和组件一次。随后的重新渲染，元素/组件及其所有的子节点将被视为静态内容并跳过。可以用于优化性能</p></li> <li><p>表达式
<code>&lt;span&gt;NaN&lt;/span&gt;</code></p></li> <li><p>原始 HTML
<code>&lt;span v-html=&quot;rawHtml&quot;&gt;&lt;/span&gt;</code>
用于更新元素的 innerHTML。注意可能带来 XSS 攻击，仅仅使用在确认信任的内容上</p></li> <li><p>属性
<code>&lt;a v-bind:href=&quot;url&quot;&gt; ... &lt;/a&gt;</code>
same as
<code>&lt;a :href=&quot;url&quot;&gt; ... &lt;/a&gt;</code></p></li> <li><p>事件
<code>&lt;a v-on:click=&quot;doSomething&quot;&gt; ... &lt;/a&gt;</code>
same as
<code>&lt;a @click=&quot;doSomething&quot;&gt; ... &lt;/a&gt;</code> <code>&lt;a @[event]=&quot;doSomething&quot;&gt; ... &lt;/a&gt;</code></p></li></ol> <h3 id="data-property-和-methods"><a href="#data-property-和-methods" class="header-anchor">#</a> Data Property 和 methods</h3> <ul><li>data 选项是一个函数，返回一个对象（Vue2 的 data 可以是对象，但 vue3 只能是函数，否则报错）</li> <li>对尚未提供所需值的 property 使用 null、undefined 等占位</li> <li>实例创建后再添加的 property，响应式系统不会跟踪</li></ul> <h3 id="计算属性-computed"><a href="#计算属性-computed" class="header-anchor">#</a> 计算属性 computed</h3> <ul><li>计算属性 count 会依赖 data 中的属性 books，books 发生改变自动出发 count 的变化</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
 &lt;p&gt;{{name}} published {{count}} books:&lt;/p&gt;
 &lt;button @click=&quot;add&quot;&gt;Add book&lt;/button&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
 Vue.createApp({
    data() {
        return {
            name: 'John Doe',
            books: ['book1']
            }
        },
        methods: {
            add() {
            this.books.push('book')
            }
        },
        computed: {
            count() {
            return this.books.length
        }
    }
 }).mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ul><li>注意： 计算属性有缓存机制，如果依赖的数据未发⽣改变，则不会重新计算⽽是直接使⽤缓存值</li> <li>注意 methods 和 computed ⾥⾯的⽅法不要使⽤箭
头函数，否则 this 就不是 vm 对象了</li> <li>methods 和 computed 差异：前者为方法，无论修改是否是依赖的值都会发生调用。 后者是属性，仅仅在依赖的属性发生变化的时候才会触发</li></ul> <h3 id="watch"><a href="#watch" class="header-anchor">#</a> Watch</h3> <p>watch 会监控 data 中某个 property 的变化，执行函数</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const vm = Vue.createApp({
    data() {
        return {
        name: 'jirengu'
        }
    },
    watch: {
        name(newname, oldname) {
        console.log(oldname + '-&gt; + newname)
        }
    }
 }).mount('#app')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>什么时候需要用 watch？
<ul><li>当只需要根据 data 中某个 property 的变化做出反应，不一定需要结果时。</li> <li>当有异步操作时</li> <li>当需要用到旧值时</li></ul></li></ul> <h3 id="响应式原理"><a href="#响应式原理" class="header-anchor">#</a> 响应式原理</h3> <ul><li><p>到底什么是数据响应式
追踪数据的变化，在读取数据或者设置数据的时候能劫持做一些操作。</p> <p>使用 object.defineProperty -&gt; Vue2</p> <p>使用 Proxy -&gt; Vue3</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>var obj = {}
var age
Object.defineProperty(obj, 'age', {
    get: function(){
        console.log('get age...')
        return age
    },
    set: function(val){
        console.log('set age...')
        age = val
    }
})
obj.age = 100  // 'set age...'
console.log(obj.age) // 'get age...', 100
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="proxy-和-reflect"><a href="#proxy-和-reflect" class="header-anchor">#</a> Proxy 和 Reflect</h3> <p><strong>proxy</strong> 对象用于创建一个对象的代理，从而实现基本操作的拦截和自定义（如属性查找，赋值，枚举，函数调用等）</p> <p><strong>Reflect</strong> 是一个内置的对象，它提供拦截 Javascript 操作的方法，这些方法和 Proxy handlers 相同。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const dinner = {
  meal: 'tacos'
}

const handler = {
  get(target, prop) {
    console.log('get...', prop)
    //return target[prop]
    return Reflect.get(...arguments)
  },
  set(target, key, value) {
    console.log('set...', key, value)
    //target[key] = value
    return Reflect.set(...arguments)
  }
}

const proxy = new Proxy(dinner, handler)
console.log(proxy.meal)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>但是这里仅能响应式一层的对象，可以封装实现：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>function reactive(obj){
    const handler = {
        set(target, key, value, receiver){
            return Reflect.set(...arguments)
        },
        get(target,prop){
            const value = Reflect.get(...arguments);
            if(typeof value === 'object'){
                reactive(value)
            }
            else{
                return value;
            }
        }
    }
    return new Proxy(obj,handler)
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>Vue2 用 Object.defineProperty 实现响应式， Vue3 使用 Proxy 实现响应式。 对比有什么优缺点？
<ul><li>Proxy 能劫持整个对象， 而 Object.defineProperty 只能劫持对象的属性； 前者递归返回属性对应的值的代理即可实现响应式。 后者需要深度遍历每个属性。 后者对数组的操作不友好。</li></ul></li></ul> <h3 id="条件渲染"><a href="#条件渲染" class="header-anchor">#</a> 条件渲染</h3> <ul><li><code>v-if</code> 的变化会创建/删除元素， <code>v-show</code>变化只是元素的展示/隐藏(display:none)</li> <li>对于多个元素的控制可以用<code>&lt;template&gt;</code>包裹</li></ul> <h3 id="v-for-列表渲染"><a href="#v-for-列表渲染" class="header-anchor">#</a> v-for 列表渲染</h3> <ul><li><code>v-for</code>可基于数组渲染列表</li> <li>也可基于对象渲染列表</li> <li>可以使用值的范围</li> <li>可以在组件上循环渲染</li> <li><code>v-for</code>默认使用‘就地更新’ 策略， 数据项的顺序被改变，Vue 就不会移动 DOM 元素来匹配数据项的顺序， 而是就地更新每个元素。</li> <li>为能跟踪每个节点的身份，重用和重新排序现有元素，提升性能，需要使用 key</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;li v-for=&quot;item in array&quot;&gt;{{item}}&lt;/li&gt;
&lt;li v-for=&quot;(item, index) in array&quot;&gt;{{item}}&lt;/li&gt;
&lt;li v-for=&quot;value in myObject&quot;&gt;{{value}}&lt;/li&gt;
&lt;li v-for=&quot;(value, key) in myObject&quot;&gt;{{key}}:
{{value}}&lt;/li&gt;
&lt;span v-for=&quot;n in 10&quot;&gt;{{ n }} &lt;/span&gt;
&lt;!--1,...,10--&gt;
&lt;my-component v-for=&quot;(item, index) in
items&quot; :item=&quot;item&quot; :key=&quot;item.id&quot;&gt;&lt;/mycomponent&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="事件处理"><a href="#事件处理" class="header-anchor">#</a> 事件处理</h3> <ul><li><code>@click</code> 的值既可以是 methods 里的函数名，执行函数时参数是点击事件</li> <li>也可以是函数的调用，执行函数时参数时调用时传递的参数，可以传递固定值，可传递 data 的属性，也可传递$event</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;span v-on:click=&quot;sayHello&quot;&gt;click&lt;/span&gt;
&lt;span @click=&quot;sayHello&quot;&gt;click&lt;/span&gt;
&lt;span @click=&quot;sayHello('hunger')&quot;&gt;click&lt;/span&gt;
&lt;span @click=&quot;sayHello($event),
sayHi('hunger')&quot;&gt;click&lt;/span&gt;
&lt;span @click.once=&quot;sayHello(name)&quot;&gt;click&lt;/span&gt; // 仅仅执行一遍
&lt;span @click.stop=&quot;sayHello&quot;&gt;click&lt;/span&gt; // 指的是阻止父组件（节点）的事件冒泡
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="v-model-双向绑定-针对输入框-表单等"><a href="#v-model-双向绑定-针对输入框-表单等" class="header-anchor">#</a> v-model 双向绑定（针对输入框，表单等）</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;input v-model=&quot;message&quot; /&gt; {{ message }} //相应onInput事件
&lt;textarea v-model.lazy=&quot;message&quot;&gt;&lt;/textarea&gt; {{ message }} // 相应onChange事件，当鼠标从输入移走时才会更新
&lt;input type=&quot;checkbox&quot; v-model=&quot;checked&quot; /&gt; {{checked}}
&lt;!-- 复选框 --&gt;
&lt;input type=&quot;checkbox&quot; value=&quot;a&quot; v-model=&quot;list&quot; /&gt;
&lt;input type=&quot;checkbox&quot; value=&quot;b&quot; v-model=&quot;list&quot; /&gt; {{list}} //多选一定要有value
&lt;!-- 单选框 --&gt;
&lt;input type=&quot;radio&quot; value=&quot;a&quot; v-model=&quot;theme&quot; /&gt;
&lt;input type=&quot;radio&quot; value=&quot;b&quot; v-model=&quot;theme&quot; /&gt; {{theme}}
&lt;!-- select --&gt;
&lt;select v-model=&quot;selected&quot;&gt;
 &lt;option value=&quot;AA&quot;&gt;A&lt;/option&gt;
 &lt;option value=&quot;BB&quot;&gt;B&lt;/option&gt;
 &lt;option value=&quot;CC&quot;&gt;C&lt;/option&gt;
&lt;/select&gt;
{{selected}}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="组件基础"><a href="#组件基础" class="header-anchor">#</a> 组件基础</h3> <ul><li>每个组件维护独立的数据</li> <li>app.component('组件名'，{})注册组件</li> <li>通过 prop 向子组件传递数据</li> <li>子组件触发事件来实现子传父</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
 &lt;font-size step=&quot;1&quot; :val=&quot;fontSize&quot; @plus=&quot;fontSize += $event&quot;
 @minus=&quot;fontSize -= $event&quot;&gt;&lt;/font-size&gt;
 &lt;font-size step=&quot;3&quot; :val=&quot;fontSize&quot; @plus=&quot;fontSize += $event&quot;
 @minus=&quot;fontSize -= $event&quot;&gt;&lt;/font-size&gt;
 &lt;p :style=&quot;{fontSize:fontSize+'px'}&quot;&gt;Hello {{fontSize}}&lt;/p&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
 const app = Vue.createApp({
 data() { return { fontSize: 16 } }
 })
 app.component('font-size', {
 props: ['val', 'step'],
 template: `
 &lt;div&gt;step: {{step}}
 &lt;button @click=&quot;onPlus&quot;&gt;+&lt;/button&gt;
 &lt;button @click=&quot;$emit('minus', step)&quot;&gt;-&lt;/button&gt;
 &lt;/div&gt;`,
 methods: {
 onPlus() { this.$emit('plus', parseInt(this.step)) }
 }
 })
 app.mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="v-model-实现双向绑定"><a href="#v-model-实现双向绑定" class="header-anchor">#</a> v-model 实现双向绑定</h3> <ul><li>父组件通过 v-model=&quot;属性&quot; 把属性传递给子组件</li> <li>子组件内有一个 modelValue 的 prop，接受父组件传递的数据</li> <li>子组件通过触发 update:modelValue 修改父组件绑定的属性</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;input v-model=&quot;searchText&quot; /&gt;
&lt;!--等价于--&gt;
&lt;input :value=&quot;searchText&quot; @input=&quot;searchText = $event.target.value&quot; /&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
 &lt;font-size step=&quot;1&quot; v-model=&quot;fontSize&quot;&gt;&lt;/font-size&gt;
 &lt;font-size step=&quot;4&quot; v-model=&quot;fontSize&quot;&gt;&lt;/font-size&gt;
 &lt;p :style=&quot;{fontSize:fontSize+'px'}&quot;&gt;Hello {{fontSize}}&lt;/p&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
 const app = Vue.createApp({
 data() { return { fontSize: 16 } }
 })
 app.component('font-size', {
 props: ['modelValue', 'step'],
 template: `
 &lt;div&gt;fontSize: {{modelValue}}
 &lt;button @click=&quot;$emit('update:modelValue',+step+modelValue)&quot;&gt;+&lt;/button&gt;
 &lt;button @click=&quot;$emit('update:modelValue', modelValue-step)&quot;&gt;-&lt;/button&gt;
 &lt;/div&gt;`
 })
 app.mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="单向数据流"><a href="#单向数据流" class="header-anchor">#</a> 单向数据流</h3> <ul><li><p>什么是单向数据流？
父组件能直接传递数据给子组件，子组件不能随意修改父组件状态</p></li> <li><p>为什么单向？
目的是让数据传递变得简单，可控，可追溯。</p></li> <li><p>如何实现双向？
父组件可以通过设置子组件的 props 直接传递数据给子组件。 子组件想传递数据给父组件时，可以在内部 emit 一个自定义事件，父组件可以在子组件上绑定该事件的监听，来处理子组件 emit 的事件和数据。</p></li></ul> <p>在 Vue 中， v-model 实现的所谓双向绑定，本质就是这样</p> <h3 id="全局组件和局部组件"><a href="#全局组件和局部组件" class="header-anchor">#</a> 全局组件和局部组件</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>app.component('component-a',{...}) // 全局组件

const component = {components: {...}} // 局部组件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="组件命名"><a href="#组件命名" class="header-anchor">#</a> 组件命名</h3> <ul><li>kebab-case 短横线连接全小写的单词</li> <li>声明时使用 kebab-case，模板里必须用 kebab-case</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>app.component('component-a',({})
&lt;component-a&gt;&lt;/component-a&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>PascalCase 多个首字母大写单词直接连接</li> <li>声明时使用 PascalCase，模板里可以用 kebab-case 和 PascalCase</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>app.component('ComponentB',({})
&lt;component-b&gt;&lt;/component-b&gt;
&lt;ComponentB&gt;&lt;/Component-B&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="props"><a href="#props" class="header-anchor">#</a> Props</h3> <h4 id="写法"><a href="#写法" class="header-anchor">#</a> 写法：</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>props: ['name', 'other']
props: {
name: String,
other: Number //Boolean, Array, Object, Function
}
props: {
name: {
//传递的prop如果不满足条件，控制台会有警告
type: String,
required: true,
//default: 'hello'
}
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="v-bind"><a href="#v-bind" class="header-anchor">#</a> v-bind</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>post: {
id: 1,
title: 'My Journey with Vue'
}
以下两种写法等价
&lt;blog-post v-bind=&quot;post&quot;&gt;&lt;/blog-post&gt;
&lt;blog-post v-bind:id=&quot;post.id&quot;
v-bind:title=&quot;post.title&quot;&gt;&lt;/blog-post&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="非-prop-的-attribute"><a href="#非-prop-的-attribute" class="header-anchor">#</a> 非 prop 的 attribute</h3> <ul><li>指的是父组件模板里在使用子组件时设置了属性，但子组件内没有通过 Props 接收</li> <li>当组件返回单个根节点时，非 prop attribute 将自动添加到根节点的 attribute 中</li> <li>在子组件里可以通过<code>$attrs / this.$attrs / context.attrs</code> 获取 attributes</li> <li>如果想在非根节点应用传递的 attribute，使用<code>v-bind=&quot;$attrs&quot;</code></li> <li>默认所有属性都绑定到根元素</li> <li>使用<code>inheritAttrs:false</code>来取消默认绑定</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
&lt;user class=&quot;username&quot;
:data-user=&quot;username&quot;&gt;&lt;/user&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const User = {
template: `&lt;div&gt;{{$attrs['data-user']}}&lt;/div&gt;`
}
Vue.createApp({
components: { User },
data() {
return { username: 'hunger' }
}
}).mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>div id=&quot;app&quot;&gt;
&lt;username class=&quot;username&quot; :error=&quot;errorMsg&quot;
@input=&quot;onInput&quot;&gt;&lt;/username&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const Username = {
props: ['error'],
template: `
&lt;fieldset&gt;
&lt;legend&gt;用户名&lt;/legend&gt;
&lt;input v-bind=&quot;$attrs&quot;&gt;
&lt;div&gt;{{error}}&lt;/div&gt;
&lt;/fieldset&gt;
`
}
Vue.createApp({
components: { Username },
data() {
return { errorMsg: '' }
},
methods: {
onInput(e){
this.errorMsg = e.target.value.length&lt;6?&quot;长度不够&quot;:&quot;&quot;
}
}
}).mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="自定义事件"><a href="#自定义事件" class="header-anchor">#</a> 自定义事件</h3> <ul><li>子组件内触发事件用 <code>this.$emit('my-event')</code></li> <li>父组件使用子组件时绑定<code>&lt;component-a @my-event=&quot;doSomething&quot;&gt;&lt;/component-a&gt;</code></li> <li>推荐 kebab-case 事件名，区分大小写</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
      &lt;h1&gt;{{username}}&lt;/h1&gt;
      &lt;user
        class=&quot;username&quot;
        :data-user=&quot;username&quot;
        @user-change=&quot;username=$event&quot;
      &gt;&lt;/user&gt;
    &lt;/div&gt;
    &lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
      const User = {
        props: [&quot;dataUser&quot;],
        events: [&quot;user-change&quot;],
        template: `&lt;div&gt;{{dataUser}} &lt;button @click='updateUser'&gt;update&lt;/button&gt;&lt;/div&gt;`,
        methods: {
          updateUser() {
            this.$emit(&quot;user-change&quot;, this.dataUser + &quot;!&quot;);
          },
        },
      };
      Vue.createApp({
        components: { User },
        data() {
          return {
            username: &quot;hunger&quot;,
          };
        },
      }).mount(&quot;#app&quot;);
    &lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="v-model-自定义事件语法糖"><a href="#v-model-自定义事件语法糖" class="header-anchor">#</a> v-model 自定义事件语法糖</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;com v-model:foo=&quot;bar&quot;&gt;&lt;/com&gt; //等价于
&lt;com :foo=&quot;bar&quot; @update:foo=&quot;bar=$event&quot;&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
&lt;h1&gt;{{username}}&lt;/h1&gt;
&lt;user class=&quot;username&quot;
v-model:user=&quot;username&quot;&gt;&lt;/user&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const User = {
props: ['user'],
template: `&lt;div&gt;{{user}} &lt;button @click=&quot;update
User&quot;&gt;update&lt;/button&gt;&lt;/div&gt;`,
methods: {
updateUser() {
this.$emit('update:user', this.user + '!')
}
}
}
Vue.createApp({
components: { User },
data() {
return { username: 'hunger' }
}
}).mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="插槽"><a href="#插槽" class="header-anchor">#</a> 插槽</h3> <ul><li>子组件的模板预留一个空位（slot）</li> <li>父组件使用子组件时可以在子组件标签内插入内容/组件，即向子组件内预留的空位插入</li> <li>父组件往插槽插入的内容只能使用父组件实例的属性</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
&lt;x-button&gt; &lt;icon name=&quot;yes&quot;&gt;&lt;/icon&gt; {{text}} &lt;/xbutton&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const Icon = {
props: ['name'],
template: `&lt;span&gt;{{type}}&lt;/span&gt;`,
computed: {
type() { return this.name==='yes'?'✔':'✘' }
}
}
const XButton = {
template: `&lt;button&gt;
&lt;slot&gt;&lt;/slot&gt;
&lt;/button&gt;`
}
Vue.createApp({
components: { XButton, Icon },
data() {
return { text: '正确' }
}
}).mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="具名插槽"><a href="#具名插槽" class="header-anchor">#</a> 具名插槽</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
&lt;layout&gt;
&lt;template v-slot:header&gt;
&lt;h1&gt;页面header&lt;/h1&gt;
&lt;/template&gt;
&lt;template #default&gt;
&lt;p&gt;页面content&lt;/p&gt;
&lt;/template&gt;
&lt;template #footer&gt;
&lt;div&gt;页面footer&lt;/div&gt;
&lt;/template&gt;
&lt;/layout&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const Layout = {
template: `&lt;div class=&quot;container&quot;&gt;
&lt;header&gt; &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt; &lt;/header&gt;
&lt;main&gt; &lt;slot&gt;&lt;/slot&gt;&lt;/main&gt;
&lt;footer&gt;&lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;&lt;/footer&gt;
&lt;/div&gt;`
}
Vue.createApp({
components: { Layout },
}).mount(
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="作用域插槽"><a href="#作用域插槽" class="header-anchor">#</a> 作用域插槽</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>div id=&quot;app&quot;&gt;
&lt;news&gt;hello world&lt;/news&gt;
&lt;news v-slot=&quot;props&quot;&gt;👉 {{props.item}}&lt;/news&gt;
&lt;news v-slot=&quot;{ item }&quot;&gt;✔ {{item}}&lt;/news&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const News = {
data() { return { news: ['first news', 'second news'] } },
template: `&lt;ul&gt;
&lt;li v-for=&quot;item in news&quot;&gt;
&lt;slot :item=&quot;item&quot;&gt;&lt;/slot&gt;
&lt;/li&gt;
&lt;/ul&gt;`
}
Vue.createApp({
components: { News },
}).mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="动态组件与-keep-alive"><a href="#动态组件与-keep-alive" class="header-anchor">#</a> 动态组件与 keep-alive</h3> <ul><li>页面第一次进入，钩子的触发顺序 created-&gt; mounted-&gt; activated，</li> <li>退出时触发 deactivated</li> <li>当再次进入时，只触发 activated</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
&lt;button vfor=&quot;tab in tabs&quot; :key=&quot;tab&quot; :class=&quot;{ active: currentTab === tab }&quot;
@click=&quot;currentTab = tab&quot;&gt;
{{ tab }}
&lt;/button&gt;
&lt;keep-alive&gt;
&lt;component :is=&quot;currentTabComponent&quot; class=&quot;tab&quot;&gt;&lt;/component&gt;
&lt;/keep-alive&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const app = Vue.createApp({
data() {
return {
currentTab: 'Tab1',
tabs: ['Tab1', 'Tab2']
}
},
computed: {
currentTabComponent() { return this.currentTab.toLowerCase() }
}
})
app.component('tab1', {
template: `&lt;div&gt;Tab1 content&lt;/div&gt;`
})
app.component('tab2', {
template: `&lt;div&gt;
&lt;input v-model=&quot;value&quot; /&gt; {{value}}
&lt;/div&gt;`,
data() { return { value: 'hello' } },
created() { console.log('tab2 created') },
activated() { console.log('tab2 activated') }
})
app.mount('#app')
&lt;/script&gt;
&lt;style&gt;
.active { background: #e0e0e0; }
&lt;/style&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="provide-inject"><a href="#provide-inject" class="header-anchor">#</a> Provide Inject</h3> <ul><li>适用于深度嵌套的组件，父组件可以为所有子组件直接提供数据</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>div id=&quot;app&quot;&gt;
&lt;toolbar&gt;&lt;/toolbar&gt;
&lt;button @click=&quot;isDark=!isDark&quot;&gt;切换&lt;/button&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const ThemeButton = {
inject: ['theme'],
template: `
&lt;div :class=&quot;['button', theme]&quot; &gt;&lt;slot&gt;&lt;/slot&gt;&lt;
/div&gt;
`
}
const Toolbar = {
components: { ThemeButton },
inject: ['theme'],
template: `&lt;div :class=&quot;['toolbar', theme]&quot;&gt;
&lt;theme-button&gt;确定&lt;/theme-button&gt;
&lt;/div&gt;`
}
Vue.createApp({
data() { return { isDark: false } },
provide: { theme: 'dark'},
// provide() {
// return { theme: this.isDark?'dark':'white'
}
// },
components: { Toolbar },
}).mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="provide-inject-响应式-使用-computed-箭头函数"><a href="#provide-inject-响应式-使用-computed-箭头函数" class="header-anchor">#</a> Provide Inject 响应式(使用 computed 箭头函数)</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;div id=&quot;app&quot;&gt;
&lt;toolbar&gt;&lt;/toolbar&gt;
&lt;button @click=&quot;isDark=!isDark&quot;&gt;切换&lt;/button&gt;
&lt;/div&gt;
&lt;script src=&quot;https://unpkg.com/vue@next&quot;&gt;&lt;/script&gt;
&lt;script&gt;
const ThemeButton = {
inject: ['theme'],
template: `
&lt;div :class=&quot;['button', theme.value]&quot; &gt;&lt;slot&gt;&lt;/slot&gt;&lt;/
div&gt;
`
}
const Toolbar = {
components: { ThemeButton },
inject: ['theme'],
template: `&lt;div :class=&quot;['toolbar', theme.value]&quot;&gt;
&lt;theme-button&gt;确定&lt;/theme-button&gt;
&lt;/div&gt;`
}
Vue.createApp({
data() {
return { isDark: false }
},
provide() {
return { theme: Vue.computed(()=&gt;this.isDark?'dark':
'white') }
},
components: { Toolbar },
}).mount('#app')
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="vue-动画"><a href="#vue-动画" class="header-anchor">#</a> Vue 动画</h3> <ul><li>在 css 里配置好样式，通过切换 class 实现效果切换</li> <li>修改 style 和 data 中数据绑定</li> <li>transition 组件
<ul><li>v-enter-from：在元素被插入之前生效，在元素被插入之后的下一帧移除</li> <li>v-enter-active：定义进入过渡生效时的状态</li> <li>v-enter-to：定义进入过渡的结束状态。在元素被插入之后下一帧生效 ，在过渡/动画完成之后移除</li> <li>v-leave-from：在离开过渡被触发时立刻生效，下一帧被移除</li> <li>v-leave-active：定义离开过渡生效时的状态</li> <li>v-leave-to：离开过渡的结束状态。在离开过渡被触发之后下一帧生效 ，在过渡/动画完成之后移除</li></ul></li> <li>多元素过渡： 指的是多元素进行切换，同一时间只显示一个</li> <li>使用不同的 key 提升性能</li> <li>mode 属性解决两个元素同时存在的现象
<ul><li>out-in 当前元素先出，下一个元素再进</li> <li>in-out 下一个元素先进，当前元素在出</li></ul></li> <li>多组件切换：  使用动态组件实现Tab切换效果 -&gt; 如果动态组件使用了keep-alive，需要放在transition内部</li> <li>使用transition-group实现列表过渡</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/12/2021, 3:06:49 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/front-end-progress-track/assets/js/app.55fbb09c.js" defer></script><script src="/front-end-progress-track/assets/js/2.3c044b6f.js" defer></script><script src="/front-end-progress-track/assets/js/1.946bbbaf.js" defer></script><script src="/front-end-progress-track/assets/js/37.065e5dc3.js" defer></script>
  </body>
</html>
