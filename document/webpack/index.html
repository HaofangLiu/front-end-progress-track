<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack | Lucas文档库</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="compass.svg">
    <meta name="description" content="Lucas document collection">
    
    <link rel="preload" href="/front-end-progress-track/assets/css/0.styles.1c631b42.css" as="style"><link rel="preload" href="/front-end-progress-track/assets/js/app.55fbb09c.js" as="script"><link rel="preload" href="/front-end-progress-track/assets/js/2.3c044b6f.js" as="script"><link rel="preload" href="/front-end-progress-track/assets/js/1.946bbbaf.js" as="script"><link rel="preload" href="/front-end-progress-track/assets/js/29.a483cbdd.js" as="script"><link rel="prefetch" href="/front-end-progress-track/assets/js/10.100ad0ba.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/11.11c89185.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/12.452422eb.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/13.cdbffaeb.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/14.29cb1f24.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/15.25a9f6f1.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/16.1008613e.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/17.e87875c8.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/18.21caedd4.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/19.261180c5.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/20.35b1a1eb.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/21.e78369f6.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/22.67b70316.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/23.f866a84e.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/24.6ffc8fb8.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/25.2594d9bd.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/26.3cdec195.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/27.98585499.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/28.7910915e.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/3.945872b5.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/30.c84d22d4.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/31.982a1c57.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/32.3c98e77b.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/33.17ee5942.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/34.1e87628b.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/35.6e127866.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/36.5af02e95.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/37.065e5dc3.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/4.e5e6a7bb.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/5.d63af971.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/6.489cfffe.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/7.0c7d04fe.js"><link rel="prefetch" href="/front-end-progress-track/assets/js/vendors~docsearch.c632dcce.js">
    <link rel="stylesheet" href="/front-end-progress-track/assets/css/0.styles.1c631b42.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/front-end-progress-track/" class="home-link router-link-active"><img src="/front-end-progress-track/compass.svg" alt="Lucas文档库" class="logo"> <span class="site-name can-hide">Lucas文档库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/front-end-progress-track/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/front-end-progress-track/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/js/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/http/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/webpack/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/nodejs/" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/ts/" class="nav-link">
  Typescript
</a></li></ul></div></div><div class="nav-item"><a href="/front-end-progress-track/document/webpack/.html" class="nav-link">
  Github
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/front-end-progress-track/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/front-end-progress-track/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文档" class="dropdown-title"><span class="title">文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="文档" class="mobile-dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/js/" class="nav-link">
  Javascript
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/react/" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/http/" class="nav-link">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/webpack/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/nodejs/" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/front-end-progress-track/document/ts/" class="nav-link">
  Typescript
</a></li></ul></div></div><div class="nav-item"><a href="/front-end-progress-track/document/webpack/.html" class="nav-link">
  Github
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front-end-progress-track/document/webpack/#复习-commonjs" class="sidebar-link">复习 commonJS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#commonjs-规范" class="sidebar-link">commonJS 规范</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#es-module" class="sidebar-link">ES Module</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#es-module-和-commonjs-的区别" class="sidebar-link">ES Module 和 commonJS 的区别</a></li></ul></li><li><a href="/front-end-progress-track/document/webpack/#webpack-是什么" class="sidebar-link">webpack 是什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#webpack-打包的过程" class="sidebar-link">webpack 打包的过程</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#流程类" class="sidebar-link">流程类</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#工具类" class="sidebar-link">工具类</a></li></ul></li><li><a href="/front-end-progress-track/document/webpack/#entry" class="sidebar-link">entry</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#loaders" class="sidebar-link">Loaders</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#常见的-loader" class="sidebar-link">常见的 loader</a></li><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#文件指纹-name-配置" class="sidebar-link">文件指纹 name 配置</a></li></ul></li><li><a href="/front-end-progress-track/document/webpack/#plugins" class="sidebar-link">plugins</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/front-end-progress-track/document/webpack/#常见的-plugin" class="sidebar-link">常见的 plugin</a></li></ul></li><li><a href="/front-end-progress-track/document/webpack/#loader-和-plugin-有什么差别" class="sidebar-link">Loader 和 Plugin 有什么差别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#sourcemap" class="sidebar-link">sourcemap</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#devtool" class="sidebar-link">devtool</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#webpack-dev-server" class="sidebar-link">webpack-dev-server</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#mhr" class="sidebar-link">MHR</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#compiler-compilation" class="sidebar-link">compiler | compilation</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#webpack-的构建流程是什么" class="sidebar-link">Webpack 的构建流程是什么</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#有哪些代码分离的方法" class="sidebar-link">有哪些代码分离的方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#什么是-tree-shaking" class="sidebar-link">什么是 tree shaking</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#如何利用-webpack-来优化前端性能" class="sidebar-link">如何利用 Webpack 来优化前端性能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#如何提高-webpack-的构建速度" class="sidebar-link">如何提高 Webpack 的构建速度</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#打包文件大怎么解决" class="sidebar-link">打包文件大怎么解决</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#babel-loader-有什么作用" class="sidebar-link">babel-loader 有什么作用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#babel-core-有什么作用" class="sidebar-link">@babel/core 有什么作用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#babel-preset-env-有什么作用" class="sidebar-link">@babel/preset-env 有什么作用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#babel-preset-react-有什么作用" class="sidebar-link">@babel/preset-react 有什么作用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#什么是插件-什么是预设" class="sidebar-link">什么是插件，什么是预设</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/front-end-progress-track/document/webpack/#其他" class="sidebar-link">其他</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h1> <h2 id="复习-commonjs"><a href="#复习-commonjs" class="header-anchor">#</a> 复习 commonJS</h2> <h3 id="commonjs-规范"><a href="#commonjs-规范" class="header-anchor">#</a> commonJS 规范</h3> <ul><li>每个文件是一个模块（模块内部的变量， 函数， 类都是私有的， 对其他不可见）</li> <li>在模块中使用 global 定义全局对象， 不需要导出， 在别的模块中可以直接使用</li> <li>每个模块内部, module 变量(一个对象)代表当前模块， module.exports 属性代表当前模块对外接口</li> <li>通过 require 加载模块， 读取并执行模块代码， 返回 module.exports 对象</li> <li>所有代码运行在模块作用域， 不会污染全局作用域</li> <li>模块可以多次加载， 但只会在第一次加载时运行一次， 然后缓存起来， 以后再加载就直接读取缓存</li> <li>模块加载的顺序， 按照代码中出现的顺用于控制如何优化产物包体积序</li></ul> <h4 id="module-exports-和-exports-的区别"><a href="#module-exports-和-exports-的区别" class="header-anchor">#</a> module.exports 和 exports 的区别</h4> <ul><li>module.exports 初始值是一个空对象 {}</li> <li>exports 是 module.exports 的一个引用</li> <li>require() 返回的是 module.exports 而不是 exports</li> <li>exports.xxx = xxx 是在对 exports 对象添加属性， 而 module.exports = xxx 是对 module.exports 赋值</li> <li>如果 module.exports 被赋值， exports 就不再指向 module.exports</li> <li>一般情况下， 一个模块只能使用一种导出方式， 不能混用</li></ul> <h3 id="es-module"><a href="#es-module" class="header-anchor">#</a> ES Module</h3> <ul><li>ES Module 是 JS 的模块化规范， 也是 JS 语言的官方标准</li> <li>ES Module 是静态的， 在编译时就能确定模块的依赖关系</li></ul> <h3 id="es-module-和-commonjs-的区别"><a href="#es-module-和-commonjs-的区别" class="header-anchor">#</a> ES Module 和 commonJS 的区别</h3> <ul><li>ES Module 是编译时加载， commonJS 是运行时加载</li> <li>ES Module 输出的是值的引用， commonJS 输出的是值的拷贝</li> <li>ES Module 是异步加载， commonJS 是同步加载</li> <li>ES Module 是单例模式， commonJS 是多例模式</li> <li>ES Module 可以直接导入模块中的变量， commonJS 只能导出模块中的变量</li> <li>ES Module 可以导入模块中的部分内容， commonJS 只能导出整个模块</li> <li>ES Module 可以在编译时优化， commonJS 只能在运行时优化</li> <li>ES Module 可以在浏览器中运行， commonJS 只能在 Node.js 中运行</li> <li>ES Module 可以在浏览器中异步加载模块， commonJS 不能异步加载模块</li> <li>ES Module 可以在浏览器中预解析模块， commonJS 不能预解析模块</li> <li>ES Module 可以在浏览器中缓存模块， commonJS 不能缓存模块</li> <li>ES Module 可以在浏览器中预编译模块， commonJS 不能预编译模块</li></ul> <h2 id="webpack-是什么"><a href="#webpack-是什么" class="header-anchor">#</a> webpack 是什么</h2> <ul><li>webpack 是一个现代 JavaScript 应用程序的静态模块打包器(module bundler)</li></ul> <h3 id="webpack-打包的过程"><a href="#webpack-打包的过程" class="header-anchor">#</a> webpack 打包的过程</h3> <ul><li>输入：从文件系统读入代码文件；</li> <li>模块递归处理：调用 Loader 转译 Module 内容，并将结果转换为 AST，从中分析出模块依赖关系，进一步递归调用模块处理过程，直到所有依赖文件都处理完毕；</li> <li>后处理：所有模块递归处理完毕后开始执行后处理，包括模块合并、注入运行时、产物优化等，最终输出 Chunk 集合；</li> <li>输出：将 Chunk 写出到外部文件系统；</li></ul> <h3 id="流程类"><a href="#流程类" class="header-anchor">#</a> 流程类</h3> <p>与打包流程强相关的配置项有：</p> <ul><li>输入输出：
<ul><li>entry：用于定义项目入口文件，Webpack 会从这些入口文件开始按图索骥找出所有项目文件；</li> <li>context：项目执行上下文路径；</li> <li>output：配置产物输出路径、名称等；</li></ul></li> <li>模块处理：
<ul><li>resolve：用于配置模块路径解析规则，可用于帮助 Webpack 更精确、高效地找到指定模块</li> <li>module：用于配置模块加载规则，例如针对什么类型的资源需要使用哪些 Loader 进行处理</li> <li>externals：用于声明外部资源，Webpack 会直接忽略这部分资源，跳过这些资源的解析、打包操作</li></ul></li> <li>后处理：
<ul><li>optimization：用于控制如何优化产物包体积，内置 Dead Code Elimination、Scope Hoisting、代码混淆、代码压缩等功能</li> <li>target：用于配置编译产物的目标运行环境，支持 web、node、electron 等值，不同值最终产物会有所差异</li> <li>mode：编译模式短语，支持 development、production 等值，可以理解为一种声明环境的短语</li> <li>mode：development、production 区别是什么？
<ul><li>development：开发模式，开启调试功能，关闭代码压缩</li> <li>production：生产模式，开启代码压缩，关闭调试功能</li></ul></li></ul></li></ul> <p>这里的重点是，Webpack 首先需要根据输入配置(entry/context) 找到项目入口文件；之后根据按模块处理(module/resolve/externals 等) 所配置的规则逐一处理模块文件，处理过程包括转译、依赖分析等；模块处理完毕后，最后再根据后处理相关配置项(optimization/target 等)合并模块资源、注入运行时依赖、优化产物结构等。
这些配置项与打包流程强相关，建议学习时多关注它们对主流程的影响，例如 entry 决定了项目入口，而 output 则决定产物最终往哪里输出；resolve 决定了怎么找到模块，而 module 决定了如何解读模块内容，等等。</p> <h3 id="工具类"><a href="#工具类" class="header-anchor">#</a> 工具类</h3> <p>除了核心的打包功能之外，Webpack 还提供了一系列用于提升研发效率的工具，大体上可划分为：</p> <ul><li>开发效率类：
<ul><li>watch：用于配置持续监听文件变化，持续构建</li> <li>devtool：用于配置产物 Sourcemap 生成规则</li> <li>devServer：用于配置与 HMR 强相关的开发服务器功能</li></ul></li> <li>性能优化类：
<ul><li>cache：Webpack 5 之后，该项用于控制如何缓存编译过程信息与编译结果</li> <li>performance：用于配置当产物大小超过阈值时，如何通知开发者</li></ul></li> <li>日志类：
<ul><li>stats：用于精确地控制编译过程的日志内容，在做比较细致的性能调试时非常有用</li> <li>infrastructureLogging：用于控制日志输出方式，例如可以通过该配置将日志输出到磁盘文件</li></ul></li> <li>等等</li></ul> <p>逻辑上，每一个工具类配置都在主流程之外提供额外的工程化能力，例如 devtool 用于配置产物 Sourcemap 生成规则，与 Sourcemap 强相关；devServer 用于配置与 HMR 相关的开发服务器功能；watch 用于实现持续监听、构建。
工具类配置内聚性较强，通常一个配置项专注于解决一类工程问题，学习时建议先对配置项按其功能做个简单分类，例如上述开发效率类、性能优化类等，之后再展开研究其可选值与效果。</p> <p><img src="/front-end-progress-track/assets/img/1.84603166.png" alt="webpack 配置流程图"></p> <h2 id="entry"><a href="#entry" class="header-anchor">#</a> entry</h2> <ul><li>假如希望有多个文件，就可以写这里</li> <li>入口起点(entry point) 指示 webpack 应该使用哪个模块，来作为构建其内部依赖图(dependency graph) 的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。</li></ul> <h2 id="loaders"><a href="#loaders" class="header-anchor">#</a> Loaders</h2> <ul><li>webpack 只能理解 js 和 json 文件，loader 让 webpack 能去处理其他类型的文件，并将它们转换成有效的模块，以供程序使用，以及被添加到依赖图中</li> <li>loader 的两个属性： test（识别出哪个文件会被转换） use（定义在进行转换时，应该使用哪个 loader）</li> <li>style-loader 把 CSS 插入到 DOM 中。</li> <li>css-loader css-loader 会对@import 和 url()进行处理，就像 js 解析 import/require()一样。</li></ul> <h3 id="常见的-loader"><a href="#常见的-loader" class="header-anchor">#</a> 常见的 loader</h3> <ul><li>file-loader：把文件输出到一个文件夹中，在代码中通过相对 URL 去引用输出的文件</li> <li>url-loader：和 file-loader 类似，但是能在文件很小的情况下以 base64 的方式把文件内容注入到代码中去</li> <li>source-map-loader：加载额外的 Source Map 文件，以方便断点调试</li> <li>image-loader：加载并且压缩图片文件</li> <li>babel-loader：让 babel 来处理最新的 js(ts、jsx)语法</li> <li>css-loader：加载 CSS，支持模块化、压缩、文件导入等特性</li> <li>style-loader：把 CSS 代码注入到 JavaScript 中，通过 DOM 操作去加载 CSS。</li></ul> <h3 id="文件指纹-name-配置"><a href="#文件指纹-name-配置" class="header-anchor">#</a> 文件指纹 name 配置</h3> <ul><li>[hash] 和整个项目构建相关，只要项目文件有修改，整个项目的 hash 值 就会变化</li> <li>[chunkhash] 和 webpack 打包的 chunk 有关，不同 entry 会生成不同的 chunkhash 值， 一般 js 会使用</li> <li>[contenthash] 根据文件内容来定义 hash， 文件内容不变，则 contenthash 不变， 一般 css 会使用
面试题: hash、chunkHash、contentHash的区别？
hash: 根据webpack所有模块生成的，有任何变化重新生成，而且唯一
chunkHash： 根据chunk所有的依赖生成的，只要chunk中的依赖发生变化就会重新生成，也有问题。例如： 异步加载的组件，css js
contentHash: 根据文件来的，项目一般用这个，没有前面两种情况的问题</li></ul> <p>最佳实践总结
JS 文件：使用 [name].[chunkhash].js 或 [name].[contenthash].js，避免全局 hash。
CSS 文件：必须使用 contentHash（如 [name].[contenthash].css），确保 CSS 缓存独立。
图片 / 字体等资源：使用 [contenthash] 或 [hash]（如 [name].[contenthash][ext]）。
长期缓存策略：
第三方库（如 React、Vue）单独打包，使用 chunkHash。
应用代码使用 contentHash，确保修改一处不影响其他资源缓存。</p> <h2 id="plugins"><a href="#plugins" class="header-anchor">#</a> plugins</h2> <ul><li>插件用于执行范围更广的任务。比如：打包优化，资源管理，注入环境变量等（目的在于解决 loader 无法实现的其他的事情）</li> <li>CleanWebpackPlugin 构建前清理/dist 文件夹。（现在推荐 output.clean 配置而不是插件）</li> <li>HtmlWebpackPlugin 为应用程序生成一个 HTML 文件，并自动注入所有生成的 bundle。</li> <li>在默认情况下，Webpack 使用 style-loader 会将 CSS 代码以 <code>&lt;style&gt;</code>标签的形式插入到 HTML 文件的 <code>&lt;head&gt;</code>部分。但在生产环境中，这种做法存在一些弊端，比如不利于 CSS 的缓存和并行加载。MiniCssExtractPlugin 可以将 CSS 代码从 JavaScript 文件中分离出来，生成独立的 CSS 文件，这样浏览器就可以并行加载 CSS 和 JavaScript 文件，提高页面的加载速度。</li></ul> <h3 id="常见的-plugin"><a href="#常见的-plugin" class="header-anchor">#</a> 常见的 plugin</h3> <ul><li>HtmlWebpackPlugin: 用于创建最终使用的 HTML 文件。可自动生成，也可以使用模版创建。</li> <li>UglifyjsWebpackPlugin: 用于压缩 js 文件</li> <li>TerserWebpackPlugin：用于压缩 js，更新，支持 es6 语法</li> <li>ExtractTextWebpackPlugin: 将所有的入口 chunk 中引用的 *.css，移动到独立分离的 CSS 文件</li></ul> <h2 id="loader-和-plugin-有什么差别"><a href="#loader-和-plugin-有什么差别" class="header-anchor">#</a> Loader 和 Plugin 有什么差别</h2> <p>Loader 直译为&quot;加载器&quot;。Webpack 将一切文件视为模块，Loader 让 Webpack 拥有了加载和解析非 JavaScript 文件的能力。</p> <p>Plugin 直译为&quot;插件&quot;。Plugin 可以扩展 Webpack 的功能。 在 Webpack 运行的生命周期中会广播出许多事件，Plugin 可以监听这些事件，在合适的时机通过 Webpack 提供的 API 改变输出结果。</p> <h2 id="sourcemap"><a href="#sourcemap" class="header-anchor">#</a> sourcemap</h2> <ul><li>在编译后的代码和源码进行一个 mapping</li></ul> <h2 id="devtool"><a href="#devtool" class="header-anchor">#</a> devtool</h2> <ul><li>此选项控制是否生成，以及如何生成 source map。</li></ul> <h2 id="webpack-dev-server"><a href="#webpack-dev-server" class="header-anchor">#</a> webpack-dev-server</h2> <ul><li>提供了一个基本的 web server，并且具有 live reloading(实时重新加载) 功能</li></ul> <h2 id="mhr"><a href="#mhr" class="header-anchor">#</a> MHR</h2> <ul><li>模块热替换，开发过程中，可以让某个模块保持状态，但是模块产生更新</li> <li>它允许在运行时更新所有类型的模块，而无需完全刷新。</li></ul> <h2 id="compiler-compilation"><a href="#compiler-compilation" class="header-anchor">#</a> compiler | compilation</h2> <ul><li>compiler 对象代表一个完全配置的 webpack 环境</li> <li>compilation 对象代表对版本资源的单次构建</li></ul> <h2 id="webpack-的构建流程是什么"><a href="#webpack-的构建流程是什么" class="header-anchor">#</a> Webpack 的构建流程是什么</h2> <p>初始化参数：从配置文件和 Shell 语句中读取与合并参数，得出最终的参数；</p> <p>开始编译：用上一步得到的参数初始化 Compiler 对象，加载所有配置的插件，执行对象的 run 方法开始执行编译；</p> <p>确定入口：根据配置中的 entry 找出所有的入口文件；</p> <p>编译模块：从入口文件出发，调用所有配置的 Loader 对模块进行翻译，再找出该模块依赖的模块，再递归本步骤直到所有入口依赖的文件都经过了本步骤的处理；</p> <p>完成模块编译：在经过第 4 步使用 Loader 翻译完所有模块后，得到了每个模块被翻译后的最终内容以及它们之间的依赖关系；</p> <p>输出资源：根据入口和模块之间的依赖关系，组装成一个个包含多个模块的 Chunk，再把每个 Chunk 转换成一个单独的文件加入到输出列表，这步是可以修改输出内容的最后机会；</p> <p>输出完成：在确定好输出内容后，根据配置确定输出的路径和文件名，把文件内容写入到文件系统。</p> <p>在以上过程中，Webpack 会在特定的时间点广播出特定的事件，插件在监听到感兴趣的事件后会执行特定的逻辑，并且插件可以调用 Webpack 提供的 API 改变 Webpack 的运行结果。</p> <h2 id="有哪些代码分离的方法"><a href="#有哪些代码分离的方法" class="header-anchor">#</a> 有哪些代码分离的方法</h2> <p>入口起点：使用 entry 配置手动地分离代码。</p> <p>防止重复：使用 CommonsChunkPlugin 去重和分离 chunk。</p> <p>动态导入：代码中通过懒加载 import().then 分离代码。</p> <h2 id="什么是-tree-shaking"><a href="#什么是-tree-shaking" class="header-anchor">#</a> 什么是 tree shaking</h2> <p>移除 JavaScript 上下文中的未引用代码(dead-code)</p> <h2 id="如何利用-webpack-来优化前端性能"><a href="#如何利用-webpack-来优化前端性能" class="header-anchor">#</a> 如何利用 Webpack 来优化前端性能</h2> <ul><li>tree shaking 移除 dead-code，减小文件提及</li> <li>js、css 压缩合并，图片压缩或者内联，html 压缩</li> <li>抽离公共的 js 或者 css</li> <li>模块懒加载</li></ul> <h2 id="如何提高-webpack-的构建速度"><a href="#如何提高-webpack-的构建速度" class="header-anchor">#</a> 如何提高 Webpack 的构建速度</h2> <ul><li>优化 loader 配置，配置 test 、 include 、 exclude</li> <li>terser-webpack-plugin，开启缓存和多进程压缩</li> <li>thread-loader 为每个 loder 开辟单独的进程</li> <li>cache-loader 给 loader 设置缓存</li></ul> <h2 id="打包文件大怎么解决"><a href="#打包文件大怎么解决" class="header-anchor">#</a> 打包文件大怎么解决</h2> <ul><li>使用生产环境</li> <li>压缩合并</li> <li>treeshaking</li> <li>抽离公共的文件</li> <li>模块懒加载</li></ul> <h1 id="babel"><a href="#babel" class="header-anchor">#</a> babel</h1> <h2 id="babel-loader-有什么作用"><a href="#babel-loader-有什么作用" class="header-anchor">#</a> babel-loader 有什么作用</h2> <ul><li>把最新的 JS 语法或者 JSX 转化为 ES5，需要 babel 转</li></ul> <h2 id="babel-core-有什么作用"><a href="#babel-core-有什么作用" class="header-anchor">#</a> @babel/core 有什么作用</h2> <ul><li>转换语法，需要配合插件使用</li></ul> <h2 id="babel-preset-env-有什么作用"><a href="#babel-preset-env-有什么作用" class="header-anchor">#</a> @babel/preset-env 有什么作用</h2> <ul><li>把最新标准的 js 转化成 es5</li></ul> <h2 id="babel-preset-react-有什么作用"><a href="#babel-preset-react-有什么作用" class="header-anchor">#</a> @babel/preset-react 有什么作用</h2> <ul><li>把 jsx 变成 js</li></ul> <h2 id="什么是插件-什么是预设"><a href="#什么是插件-什么是预设" class="header-anchor">#</a> 什么是插件，什么是预设</h2> <p>预设就是多个插件配置在一起（带有 preset 都是预设）
插件就是 core 需要用来解析的工具
可以在 babel.rc 里面进行配置</p> <h2 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h2> <h1 id="聊一聊性能优化"><a href="#聊一聊性能优化" class="header-anchor">#</a> 聊一聊性能优化</h1> <ul><li><p>加载优化 ---文件小，数目少，压缩合并， 服务端开启 gzip， 静态资源用 CDN，服务器配置缓存）懒加载 tree-shaking 采用 HTTP2</p></li> <li><p>渲染优化 ---repaint reflow， 尽量少的 dom 操作</p></li> <li><p>滚动（操作）优化 ---懒加载，请求少。 节流，防抖的优化。 DOM 的复用</p></li> <li><p>动画的优化 ---尽量 css3， 多用 transform（这里是利用显存）</p></li> <li><p>构建（打包）的优化 ---打包时间</p></li> <li><p>在 Webpack 配置中，MiniCssExtractPlugin.loader 和 style-loader 均用于处理 CSS，但工作方式和适用场景有所不同：</p></li> <li><p>输出形态
MiniCssExtractPlugin.loader：生成独立的 CSS 文件（如.css），通过 HTML 的<link>标签引入。
style-loader：将 CSS 以</p><style></style></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/7/2025, 2:45:07 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/front-end-progress-track/assets/js/app.55fbb09c.js" defer></script><script src="/front-end-progress-track/assets/js/2.3c044b6f.js" defer></script><script src="/front-end-progress-track/assets/js/1.946bbbaf.js" defer></script><script src="/front-end-progress-track/assets/js/29.a483cbdd.js" defer></script>
  </body>
</html>
